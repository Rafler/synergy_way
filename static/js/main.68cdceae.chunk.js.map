{"version":3,"sources":["components/Catalog/Catalog.js","store/actionTypes.js","components/Catalog/index.js","store/actionCreators.js","components/Basket/Basket.js","components/Basket/index.js","components/App/App.js","store/reducer.js","api/data.js","store/localStorage.js","store/index.js","index.js"],"names":["Catalog","cards","addToBasket","basket","className","map","card","key","name","label","price","id","find","el","onClick","ACTION_TYPES","ADD_TO_BASKET","ADD_AMOUNT","TAKE_AMOUNT","DELETE_FROM_BASKET","Enhanced","connect","state","dispatch","type","element","amount","Basket","addAmount","takeAmount","deleteElement","length","reduce","acc","App","exact","to","activeClassName","path","component","initialState","persistedState","serializedState","localStorage","getItem","JSON","parse","err","loadState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","some","elem","filter","applyMiddleware","thunk","subscribe","stringify","setItem","saveState","getState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68cdceae.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Catalog.scss\";\n\nconst Catalog = ({ cards, addToBasket, basket }) => {\n  const basketClass = id =>\n    basket.find(el => el.id === id)\n      ? \"green large shopping cart big link icon\"\n      : \"cart plus big link icon\";\n  return (\n    <div className=\"ui cards\">\n      {cards.map(card => (\n        <div className=\"card\" key={card.name}>\n          <div className=\"content\">\n            <h1 className=\"header\">{card.name}</h1>\n            <div className=\"description\">{card.label}</div>\n            <div className=\"price--block\">\n              <div>\n                {card.price}\n                <i className=\"dollar sign icon\" />\n              </div>\n              <i\n                className={basketClass(card.id)}\n                onClick={() => addToBasket(card)}\n              />\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Catalog;\n","export const ACTION_TYPES = {\n  ADD_TO_BASKET: \"ADD_TO_BASKET\",\n  ADD_AMOUNT: \"ADD_AMOUNT\",\n  TAKE_AMOUNT: \"TAKE_AMOUNT\",\n  DELETE_FROM_BASKET: \"DELETE_FROM_BASKET\",\n};\n","import { connect } from \"react-redux\";\nimport Catalog from \"./Catalog\";\nimport {addToBasket} from \"../../store/actionCreators\";\n\nconst mapDispatch2Props = dispatch => ({\n    addToBasket: (card) => dispatch(addToBasket(card)),\n});\n\nfunction mapState2Props(state) {\n    return {\n        cards: state.cards,\n        basket: state.basket,\n    };\n}\nconst Enhanced = connect(\n    mapState2Props,\n    mapDispatch2Props\n)(Catalog);\n\nexport { Enhanced as Catalog };\n","import { ACTION_TYPES } from \"./actionTypes\";\n\nexport const addToBasket = (card) => ({\n  type: ACTION_TYPES.ADD_TO_BASKET,\n  element: {\n    ...card,\n    amount: 1,\n  }\n});\n\nexport const addAmount = (id) => ({type: ACTION_TYPES.ADD_AMOUNT, id});\nexport const takeAmount = (id) => ({type: ACTION_TYPES.TAKE_AMOUNT, id});\nexport const deleteElement = (id) => ({\n  type: ACTION_TYPES.DELETE_FROM_BASKET,\n  id,\n});\n","import React from \"react\";\nimport \"./Basket.scss\";\n\nconst Basket = ({ basket, addAmount, takeAmount, deleteElement }) => {\n  return (\n    <>\n      <div className=\"ui cards\">\n        {basket.map(element => (\n          <div className=\"card\" key={element.id}>\n            <div className=\"content\">\n              <i\n                className=\"red times circle outline large link icon\"\n                onClick={() => deleteElement(element.id)}\n              />\n              <h1 className=\"header\">{element.name}</h1>\n              <div className=\"info\">\n                <div className=\"element--price--block\">\n                  <div>\n                    {element.price}\n                    <i className=\"dollar sign icon\" />\n                  </div>\n                </div>\n                <div className=\"counter--block\">\n                  <i\n                    className={\n                      element.amount > 1\n                        ? \"blue minus link icon\"\n                        : \"disabled minus icon\"\n                    }\n                    onClick={() => takeAmount(element.id)}\n                  />\n                  <div>{element.amount}</div>\n                  <i\n                    className=\"blue plus link icon\"\n                    onClick={() => addAmount(element.id)}\n                  />\n                </div>\n              </div>\n              <div className=\"total--price--block\">\n                {`Sum:  ${element.price * element.amount}`}\n                <i className=\"dollar sign icon\" />\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n        {basket.length > 0 && (\n      <div className=\"basket--price\">\n        <div className=\"inner--block\">\n            <div>\n          Total:  {`${basket.reduce((acc, el) => acc + el.price * el.amount, 0)}`}\n            <i className=\"dollar sign icon\" />\n            </div>\n            <button className=\"positive large ui button\">Make an order</button>\n        </div>\n      </div>\n        )}\n        {basket.length === 0 && (\n            <div className=\"empty--basket\">Your basket is empty <i className=\"blue shopping cart icon\"/></div>\n        )}\n    </>\n  );\n};\n\nexport default Basket;\n","import { connect } from \"react-redux\";\nimport Basket from \"./Basket\";\nimport {addAmount, takeAmount, deleteElement} from \"../../store/actionCreators\";\n\nconst mapDispatch2Props = dispatch => ({\n    addAmount: (id) => dispatch(addAmount(id)),\n    takeAmount: (id) => dispatch(takeAmount(id)),\n    deleteElement: (id) => dispatch(deleteElement(id))\n});\n\nfunction mapState2Props(state) {\n    return {\n        basket: state.basket,\n    };\n}\n\nconst Enhanced = connect(\n    mapState2Props,\n    mapDispatch2Props\n)(Basket);\n\nexport { Enhanced as Basket };\n","import React from 'react';\nimport './App.scss'\nimport {NavLink, Route, Switch} from \"react-router-dom\";\nimport {Catalog} from \"../Catalog\";\nimport {Basket} from \"../Basket\";\n\nconst App = () => {\n    return (\n        <>\n          <nav className=\"ui menu\">\n            <NavLink\n                exact\n                to=\"/\"\n                activeClassName=\"active item\"\n                className=\"item\"\n            >\n              Home\n            </NavLink>\n            <NavLink\n                to=\"/basket\"\n                activeClassName=\"active item\"\n                className=\"item\"\n            >\n                <i className=\"blue shopping basket large icon\"/>\n            </NavLink>\n          </nav>\n          <Switch>\n            <Route exact path=\"/\" component={Catalog} />\n            <Route path=\"/basket/\" component={Basket} />\n          </Switch>\n        </>\n    );\n};\n\nexport default App;\n","import { ACTION_TYPES } from \"./actionTypes\";\nimport {cards} from '../api/data'\n\nconst initialState = {\n  cards: [...cards],\n  basket: [],\n};\n\nexport function reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_TO_BASKET: {\n      if (!state.basket.some(el => el.id === action.element.id)) {\n        return {\n          ...state,\n          basket: [...state.basket, action.element],\n        }\n      }else {\n        return state;\n      }\n    }\n    case ACTION_TYPES.ADD_AMOUNT: {\n      return {\n        ...state,\n        basket: [...state.basket].map(elem => (\n          elem.id === action.id\n              ? { ...elem, amount: elem.amount + 1 }\n              : { ...elem }\n      ))\n      }\n    }\n    case ACTION_TYPES.TAKE_AMOUNT: {\n      return {\n        ...state,\n        basket: state.basket.map(elem => (\n            elem.id === action.id && elem.amount > 1\n                ? { ...elem, amount: elem.amount - 1 }\n                : { ...elem }\n        ))\n      }\n    }\n    case ACTION_TYPES.DELETE_FROM_BASKET: {\n      return {\n        ...state,\n        basket: state.basket.filter(el => el.id !== action.id)\n      }\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","export const cards = [\n  {\n    id: 1,\n    name: \"article 1\",\n    label:\n      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n    price: 25\n  },\n  {\n    id: 2,\n    name: \"article 2\",\n    label:\n      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n    price: 35\n  },\n  {\n    id: 3,\n    name: \"article 3\",\n    label:\n      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n    price: 45\n  }\n];\n","export const loadState = () => {\n    try {\n        const serializedState = localStorage.getItem('state');\n        if (serializedState === null) {\n            return {\n                basket: [],\n            }\n        }\n        return {\n            ...JSON.parse(serializedState),\n        };\n    } catch (err) {\n        return undefined;\n    }\n};\n\nexport const saveState = (state) => {\n    try {\n        const serializedState = JSON.stringify(state);\n        localStorage.setItem('state', serializedState);\n    } catch {\n        return undefined;\n    }\n};\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { reducer } from \"./reducer\";\nimport {saveState, loadState} from \"./localStorage\";\n\nconst persistedState = loadState();\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(reducer, persistedState, composeEnhancers(\n    applyMiddleware(thunk)\n));\n\nstore.subscribe(() => {\n    saveState({\n        basket: store.getState().basket,\n        cards: store.getState().cards,\n    });\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./components/App/App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store/index\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}